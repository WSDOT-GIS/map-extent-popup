<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title></title>
</head>
<body>
	<div>
		<label for="xmin">xmin</label><input id="xmin" type="number" />
		<label for="ymin">ymin</label><input id="ymin" type="number" />
		<label for="xmax">xmax</label><input id="xmax" type="number" />
		<label for="ymax">xmax</label><input id="ymax" type="number" />
	</div>
	<button type="button" id="showMapButton">Edit in map</button>
	<script>
		/*jslint browser:true*/
		(function () {
			"use strict";
			var mapButton;
			mapButton = document.getElementById("showMapButton");
			mapButton.onclick = function () {
				var mapWindow;
				mapWindow = window.open("MapPage.html", "map", "titlebar=no,menubar=no,toolbar=no,location=no,dependent=yes,modal=yes,close=no,dialog=yes");
				mapWindow.onbeforeunload = function () {
					var extent;
					if (this.extentSelector) {
						if (this.extentSelector.getSelectedExtent) {
							extent = this.extentSelector.getSelectedExtent();

						}
					}
					if (extent) {
						document.getElementById("xmin").value = extent.xmin;
						document.getElementById("ymin").value = extent.ymin;
						document.getElementById("xmax").value = extent.xmax;
						document.getElementById("ymax").value = extent.ymax;
					} else {
						document.getElementById("xmin").value = null;
						document.getElementById("ymin").value = null;
						document.getElementById("xmax").value = null;
						document.getElementById("ymax").value = null;
					}
				};
			};
		}());
	</script>
</body>
</html>
